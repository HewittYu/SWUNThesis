
\ProvidesPackage{template/swunthesis-master-professional}


% 引入基本宏包
% ==============================================================================
%

\usepackage{indentfirst}   % 使得每章第一段中文缩进
\usepackage{color}
\usepackage[dvipsnames]{xcolor}
\usepackage{chngcntr}
% 数学相关
\usepackage{amsmath}       % 重要的数学环境
\usepackage{wasysym}       % 积分等特殊符号

% 图片相关
\usepackage{float}         % 图片表格浮动
\usepackage{subfigure}     % 子图
\usepackage{tikz}          % 绘图宏包, 注意, 此宏包必须在 xcolor 后使用
\usepackage{graphicx}      % 扩展 eps 图片支持
\usepackage{caption}
\renewcommand{\thefigure}{\thechapter-\arabic{figure}}
\captionsetup[figure]{labelsep=space}
\DeclareCaptionFont{bfsize}{\songti \bfseries \zihao{5}} % 设置图片标题字体
\captionsetup[figure]{font=bfsize}


% 表格相关
\usepackage{csvsimple}     % 通过 csv 数据创建表格
\usepackage{booktabs}      % 创建没有竖线分割的表格
\renewcommand{\thetable}{\thechapter-\arabic{table}}
\captionsetup[table]{labelsep=space}
\DeclareCaptionFont{bfsize}{\songti \bfseries \zihao{5}} % 设置表格标题字体
\captionsetup[table]{font=bfsize}

% 算法、代码相关
\usepackage{listings}      % 提供代码插入环境
\usepackage{algorithm}     % 提供算法浮动环境
\usepackage{algorithmic}   % 提供算法描述环境

% 文献相关
%\usepackage[toc]{appendix} % 提供附录环境，暂时用不到
\usepackage{cite}          % 文献引用，支持连续引用

% 定义代码样式
%=============================================================================
% 目录相关
\usepackage{titletoc}
\usepackage{fancyhdr}
\fancypagestyle{mystyle}{
  \fancyhf{} % 清空页眉页脚
  \renewcommand{\headrulewidth}{0pt}
}
\newenvironment{tocc}[1]{
    % 重新定义目录样式
     % 设置章节目录样式为小四号黑体
    \linespread{1.0}
    \clearpage % 新的一页开始
    \pagestyle{mystyle} % 关闭页眉页脚
    \begingroup % 限制设置的范围
    \renewcommand{\contentsname}{\zihao{-3}\heiti 目~~~~~录}
    \tableofcontents
 }{
  \clearpage % 结束目录后新的一页
  \pagestyle{fancy} % 恢复页眉页脚
  \endgroup % 结束限制设置的范围
}


%===============================================================================

% \usepackage{xcolor}

\usepackage[CJKbookmarks=true,pdfborder=0 0 1]{hyperref}

\definecolor{keyword}{HTML}{BA2CA3}
\definecolor{string}{HTML}{D12F1B}
\definecolor{comment}{HTML}{008400}
\lstdefinelanguage{JavaScript}{
  keywords={typeof, new, true, false, catch, function, return, null, catch, switch, var, if, in, while, do, else, case, break},
  ndkeywords={class, export, boolean, throw, implements, import, this},
  ndkeywordstyle=\color{darkgray}\bfseries,
  identifierstyle=\color{black},
  sensitive=false,
  comment=[l]{//},
  morecomment=[s]{/*}{*/},
  keywordstyle=\color{blue}\bfseries,
  commentstyle=\color{gray}\ttfamily,
  stringstyle=\color{green!50!yellow}\ttfamily,
  morestring=[b]',
  morestring=[b]"
}
\lstdefinelanguage{Swift}{
  keywords={
    func,if,then,else,for,in,while,do,switch,case,default,where,break,continue,fallthrough,return,
    typealias,struct,class,enum,protocol,var,func,let,get,set,willSet,didSet,inout,init,deinit,extension,
    subscript,prefix,operator,infix,postfix,precedence,associativity,left,right,none,convenience,dynamic,
    final,lazy,mutating,nonmutating,optional,override,required,static,unowned,safe,weak,internal,
    private,public,is,as,self,unsafe,dynamicType,true,false,nil,Type,Protocol,
  },
  comment=[l]{//}, % l is for line comment
  morecomment=[s]{/*}{*/}, % s is for start and end delimiter
  morestring=[b]", % defines that strings are enclosed in double quotes
  keywordstyle=\color{keyword},
  commentstyle=\color{gray}\ttfamily,
  stringstyle=\color{green!50!yellow}\ttfamily,
}

\lstset{
  basicstyle={\small\ttfamily},
  keywordstyle={\bfseries\color{NavyBlue}},
  breaklines=true,
  emphstyle={\bfseries\color{Rhodamine}},
  commentstyle={\color{PineGreen!60!black}},
  stringstyle={\rmfamily\color{YellowOrange}},
  showstringspaces=false,
  frame=shadowbox,
  breakatwhitespace=false,
  captionpos=b,
  extendedchars=true,
  keepspaces=true,
  numbers=left,
  numberstyle=\tiny,
  rulecolor=\color{black},
  rulesepcolor={\color{blue!20!white}},
  showspaces=false,
}
\renewcommand{\lstlistingname}{代码片段}    % 将插入的代码从 Listing 1.1 变为 代码片段 1.1

% 提供定理环境
% ==============================================================================
%
% \newtheorem{definition}{定义}[section]
% \newtheorem{theorem}{定理}[section]
% \newtheorem{lemma}[theorem]{引理}
% \newtheorem{corollary}[theorem]{推论}

%定义脚注样式
\usepackage{pifont} % 提供圆圈数字序号
\usepackage{graphicx} % 图片支持
% 定义脚注样式
\renewcommand{\thefootnote}{\textcircled{\arabic{footnote}}} % 圆圈数字序号
\newcommand{\footnotemarkleft}{\llap{\textbf{\footnotesize\thefootnote\quad}}} % 左对齐标记

% 定制脚注线
\renewcommand{\footnoterule}{%
  \kern-3pt \hrule width 2in \kern 2.6pt % 定义脚注线的长度和位置
}
% 定义基础变量
% ==============================================================================
% 论文标题, thesis title
\newcommand{\titleValue}{}
\renewcommand{\title}[1]{\renewcommand{\titleValue}{#1}}
\newcommand{\entitleValue}{}
\newcommand{\entitle}[1]{\renewcommand{\entitleValue}{#1}}

% \renewcommand{\title}[1]{#1}

% 论文作者, tiesis author
\newcommand{\varAuthor}{}
\renewcommand{\author}[1]{\renewcommand{\varAuthor}{#1}}
\newcommand{\varAuthorEng}{}
\newcommand{\enauthor}[1]{\renewcommand{\varAuthorEng}{#1}}

% 论文日期, thesis date
\newcommand{\varDate}{}
\renewcommand{\date}[1]{\renewcommand{\varDate}{#1}}

% 论文导师, thesis adviser
\newcommand{\varAdviser}{}
\newcommand{\adviser}[1]{\renewcommand{\varAdviser}{#1}}
\newcommand{\varAdviserEng}{}
\newcommand{\enadviser}[1]{\renewcommand{\varAdviserEng}{#1}}
\newcommand{\advTitle}{}
\newcommand{\advtitle}[1]{\renewcommand{\advTitle}{#1}}

% 论文联合导师, co-adviser support
\newcommand{\varCoAdviser}{}
\newcommand{\coadviser}[1]{\renewcommand{\varCoAdviser}{#1}}
\newcommand{\varCoAdviserEng}{}
\newcommand{\encoadviser}[1]{\renewcommand{\varCoAdviserEng}{#1}}
\newcommand{\coadvTitle}{}
\newcommand{\coadvtitle}[1]{\renewcommand{\coadvTitle}{#1}}

% 学院名称, college name
\newcommand{\varCollege}{}
\newcommand{\college}[1]{\renewcommand{\varCollege}{#1}}
\newcommand{\varCollegeEng}{}
\newcommand{\encollege}[1]{\renewcommand{\varCollegeEng}{#1}}

% 专业名称, major name
\newcommand{\varMajor}{}
\newcommand{\major}[1]{\renewcommand{\varMajor}{#1}}
\newcommand{\varRes}{}
\newcommand{\varResDirection}{}
\newcommand{\research}[1]{\renewcommand{\varRes}{#1}}
\newcommand{\resdirection}[1]{\renewcommand{\varResDirection}{#1}}
% 学号, student number
\newcommand{\varfinishdate}{}
\newcommand{\findate}[1]{\renewcommand{\varfinishdate}{#1}}

% 年级, grade
\newcommand{\varGrade}{}
\newcommand{\grade}[1]{\renewcommand{\varGrade}{#1}}

% 摘要关键词, keyworkds
\newcommand{\varKeyword}{}
\newcommand{\keyword}[1]{\renewcommand{\varKeyword}{#1}}

% 自定义摘要环境
% ==============================================================================
\renewenvironment{abstract}[1]{
    \addtolength{\leftskip}{0.4cm}
    \addtolength{\rightskip}{0.4cm}
    \vspace*{0.2cm}
    \centerline{\heiti \zihao{-3} {摘~~要}}
    \setcounter{page}{1}
    \vspace{0.5cm}
    \songti \zihao{-4}
    \keyword{#1}
    \fancyfoot[C]{\Roman{page}} % 在页脚中间显示大写罗马数字页码
    \pagestyle{fancy}
}{
    \\\par \textbf{关键词： }\ \varKeyword
    \thispagestyle{fancy} % 添加页脚
    \newpage % 手动换页
}
\newenvironment{abstractEng}[1]{
    \pagestyle{fancy}
    \fancyhf{}
    \chead{\textcolor{black}{\zihao{5} \entitleValue}}
    \addtolength{\leftskip}{0.4cm}
    \addtolength{\rightskip}{0.4cm}
    \vspace*{0.5cm}
    \centerline{\zihao{-3} \textbf{Abstract}}
    \vspace{0.5cm}
    \zihao{-4}
    \keyword{#1}
    \fancyfoot[C]{\Roman{page}} % 在页脚中间显示大写罗马数字页码
    \pagestyle{fancy}
}{
    \\\par \textbf{Keywords: } \varKeyword
    \thispagestyle{fancy} % 添加页脚
    \newpage % 手动换页
}

\newenvironment{foreword}[1]{
    \addtolength{\leftskip}{0.4cm}
    \addtolength{\rightskip}{0.4cm}
    \vspace*{0.2cm}
    \centerline{\heiti \zihao{-3} {前~~言}}
    \setcounter{page}{1}
    \vspace{0.5cm}
    \songti \zihao{-4}
    \keyword{#1}
    \pagestyle{fancy}
}

% 自定义封面封面环境
% ==============================================================================
%
\usepackage{array} %
\newcommand{\makecover}{
    \thispagestyle{empty}
    \addtocounter{page}{0}
    \vspace*{2cm}
    \centerline{\includegraphics[height=1.6cm]{./template/title}}
    \vspace*{2cm}
    \centerline{\songti \zihao{-0}专业学位硕士学位论文}
    \vspace*{2cm}
    \centerline{
    \begin{tabular}{ b{2cm} >{\centering\arraybackslash}b{12cm}}
    \songti \zihao{4} 题\hspace{1cm}目 & {\songti \zihao{4} \titleValue} \\[-3pt]
    \cline{2-2} \\[0.2cm]
    \end{tabular}
    }
    \centerline{
    \begin{tabular}{ b{2cm} >{\centering\arraybackslash}b{2cm}>{\centering\arraybackslash}b{2.15cm}>{\centering\arraybackslash}b{7.05cm}}
    \songti \zihao{4} 作\hspace{1cm}者 & {\songti \zihao{4} \varAuthor} & {\songti \zihao{4} 完成日期} &{\songti \zihao{4} \varfinishdate } \\[-3pt]
    \cline{2-2}
    \cline{4-4}  \\[0.2cm]
    \end{tabular}
    }
    \vspace*{2cm}
    
    \centerline{
    \begin{tabular}{ b{3cm} >{\centering\arraybackslash}b{7cm}}
    \songti \zihao{4} 类别~（领域） & {\songti \zihao{4} \varRes} \\[-3pt]
    \cline{2-2} \\[0.1cm]
    \songti \zihao{4} 研\hspace{0.25cm}究\hspace{0.25cm}方\hspace{0.25cm}向 & {\songti \zihao{4} \varResDirection} \\[-3pt]
    \cline{2-2} \\[0.1cm]
    \songti \zihao{4} 校内指导教师 & {\songti \zihao{3} \varAdviser} \\[-3pt]
    \cline{2-2} \\[0.1cm]
    \songti \zihao{4} 校外指导教师 & {\songti \zihao{4} \varCoAdviser} \\[-3pt]
    \cline{2-2} \\[0.1cm]
    \songti \zihao{4} 学\hspace{2cm}院 & {\songti \zihao{4} \varCollege} \\[-3pt]
    \cline{2-2} \\[0.1cm]
    \songti \zihao{4} 论文定稿日期 & {\songti \zihao{4} \varDate} \\[-3pt]
    \cline{2-2} \\[0.1cm]
    \end{tabular}
    }
    \vfill
    \clearpage
    ~~\thispagestyle{empty}
    \clearpage
    \setcounter{page}{1}
    \cleardoublepage
}

%
% 自定义页面边距
% ==============================================================================
%
\usepackage{geometry}
\geometry{
    top=3.0cm,              % 根据需求调整这个
    headheight=0.5cm,       % 这个
    headsep=0.5cm,          % 还有这个
    right=2.7cm,
    left=2.7cm,
    bottom=3.0cm,
}

% 自定义行间距
% ==============================================================================
%
\usepackage{setspace}
%\linespread{1.5}          % 经验值, 不建议修改
\setlength{\baselineskip}{20pt} % 行间距固定 20 磅, 但影响排版美观

%
\newenvironment{study}[1]{
    \pagestyle{empty}
    \linespread{1.5}    
    \vspace*{0.5cm}
    \centerline{\heiti \zihao{-3} {原创性说明}}
    \setcounter{page}{1}
    \vspace{0.5cm}
    \songti \zihao{-4}
    \vspace{20pt}
    本人郑重声明：本学位论文成果是本人在西南民族大学读书期间在导师指导下取得的，论文成果归西南民族大学所有。除了文中特别加以标注和致谢的地方外，论文中不包含其他人已经发表或撰写过的研究成果，也不包含为获得西南民族大学或其他教育机构的学位或证书而使用过的材料。与我一同工作的同志对本研究所做的任何贡献均已在论文中作了明确的说明并表示谢意。
    \vspace{20pt}
    \\
    \normalsize
    \centerline{
    \begin{tabular}{ b{6.5cm} >{\centering\arraybackslash}b{2cm}>{\centering\arraybackslash}b{2cm}>{\centering\arraybackslash}b{4cm}}
     & & \songti \zihao{-4} 作者签名： & {\songti \zihao{4} } \\[-3pt]
     \cline{4-4}  \\[0.2cm]
     & & {\songti \zihao{-4} \hspace{1cm}日期：} &{\songti \zihao{-4} \varDate } \\[-3pt]
    \cline{4-4}  \\[0.2cm]
    \end{tabular}
    }
        
    \vspace*{3cm}
    \centerline{\heiti \zihao{-3} {学位论文版权授权书}}
    \vspace{0.5cm}
    \songti \zihao{-4}
    \vspace{20pt}
    本人同意学校根据《中华人民共和国学位条例暂行实施办法》等有关规定保留本人学位论文并向国家有关部门或资料库送交论文纸件或电子版本，允许论文被查阅和借阅：本人同意西南民族大学可以将论文的全部或者部分内容编入有关数据库进行检索，可以采用影印、缩印或者其它复制手段和汇编学位论文，同时授权中国学术期刊电子杂志社等单位将本论文收录到《中国优秀硕士学位论文全文数据库》、《中国博士学位论文全文数据库》等数据库，并通过网络向社会公众提供信息服务。
    \vspace{20pt}
    \\
    \normalsize
    \centerline{
        \begin{tabular}{b{2cm} >{\centering\arraybackslash}b{4cm}>{\centering\arraybackslash}b{2cm}>{\centering\arraybackslash}b{2cm}>{\centering\arraybackslash}b{4cm}}
        \songti \zihao{-4} 导师签名：&{\songti \zihao{4} }&~&\songti \zihao{-4} 作者签名：&{\songti \zihao{4} }  \\[-3pt]
        \cline{2-2} 
        \cline{5-5}  \\[0.2cm]
        {\songti \zihao{-4} \hspace{1cm}日期：}&{\songti \zihao{-4} \varDate } &~&{\songti \zihao{-4} \hspace{1cm}日期：} &{\songti \zihao{-4} \varDate } \\[-3pt]
        \cline{2-2}
        \cline{5-5}  \\[0.2cm]
    \end{tabular}
    }
\newpage % 手动换页
}{%
  \renewcommand{\baselinestretch}{1}
  \normalsize
}

% 自定义页眉环境
% ==============================================================================
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\chead{\textcolor{black}{\zihao{5} \titleValue}}

% 自定义 CTEX 样式
% ==============================================================================
%
\ctexset{today=small}

%setup page counter
\setcounter{tocdepth}{3}
\setcounter{secnumdepth}{3}

% 设置 chapter 格式
\fancypagestyle{plain}{}  % let the chapter pages display headers
\ctexset{ chapter = { beforeskip={-10pt} } }
\ctexset{ chapter = { afterskip={10pt} } }
\ctexset{ chapter = { name={第,章} } }       % 可以通过该行定制为『第*章』形式
%\ctexset{ chapter = { name={} } }
\ctexset{ chapter = { format={\centering}}}
\ctexset{ chapter = { number={\arabic{chapter}} }}
\ctexset{ chapter = { nameformat={\zihao{-3}  \heiti} }}
\ctexset{ chapter = { titleformat={\zihao{-3} \heiti} }}

% 设置 section 格式
\ctexset{ section = { beforeskip={10pt} }}
\ctexset{ section = { afterskip={5pt} }}
\ctexset{ section = { format={\raggedright} }}
\ctexset{ section = { nameformat={\zihao{4}  \songti} }}
\ctexset{ section = { titleformat={\zihao{4} \songti} }}

% 设置 subsection 格式
\ctexset{ subsection = { beforeskip={5pt} }}
\ctexset{ subsection = { afterskip={1pt} }}
\ctexset{ subsection = { format={\raggedright} }}
\ctexset{ subsection = { nameformat={\zihao{-4} \bfseries \songti} }}
\ctexset{ subsection = { titleformat={\zihao{-4} \bfseries \songti} }}

% 设置 subsubsection 格式
\ctexset{ subsubsection = { beforeskip={0pt} }}
\ctexset{ subsubsection = { afterskip={1pt} }}
\ctexset{ subsubsection = { format={\raggedright} }}
\ctexset{ subsubsection = { nameformat={\zihao{-4}  \heiti} }}
\ctexset{ subsubsection = { titleformat={\zihao{-4} \heiti} }}

% 设置中文字体集为 Adobe 开源字体系列
%\ctexset{ fontset = adobe }
% 设置英文字体为 Times New Roman
\usepackage{fontspec}
\setmainfont{Times New Roman}
